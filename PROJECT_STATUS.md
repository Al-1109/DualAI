# –°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞ DualAI

## –ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 01.04.2025

## –û–±—â–∏–π —Å—Ç–∞—Ç—É—Å: –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

## –¢–µ–∫—É—â–∞—è —Ä–∞–±–æ—á–∞—è –≤–µ—Ç–∫–∞: feature/stable-vercel

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞

### Telegram –±–æ—Ç
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–∞–±–æ—á–∞—è –≤–µ—Ä—Å–∏—è
- **–ú–µ—Ç–æ–¥—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è**:
  - Long Polling (–ª–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ) - `test_bot.py`
  - Webhook (Vercel) - `api/webhook.js` ‚Üê **–ê–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è**
- **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**:
  - –ö–æ–º–∞–Ω–¥–∞ `/start` - –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ —Å –∫–Ω–æ–ø–∫–∞–º–∏
  - Inline –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ —Å –∫–Ω–æ–ø–∫–∞–º–∏ "–û –±–æ—Ç–µ" –∏ "–¢–µ—Å—Ç"
  - –≠—Ö–æ-–æ—Ç–≤–µ—Ç—ã –Ω–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è

### Vercel —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–∞–±–æ—á–µ–µ
- **URL**: https://dualai-7pszmksx4-alberts-projects-3d66c6c5.vercel.app
- **Webhook**: /api/webhook
- **–ü—Ä–∏–º–µ—á–∞–Ω–∏—è**: 
  - Webhook –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –æ—Ç Telegram
  - JavaScript –≤–µ—Ä—Å–∏—è webhook —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ —á–µ—Ä–µ–∑ secret_token

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **set_webhook.py**: ‚úÖ –†–∞–±–æ—á–∏–π
  - –ö–æ–º–∞–Ω–¥—ã: `set`, `info`, `delete`
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ webhook
- **watchdog_bot.py**: ‚úÖ –†–∞–±–æ—á–∏–π (—Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω–æ)
  - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ long-polling –±–æ—Ç–∞
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫

## –ü—Ä–æ–±–ª–µ–º—ã –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
1. **–ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å Vercel —Å long-polling –±–æ—Ç–∞–º–∏**:
   - Vercel –∏–º–µ–µ—Ç serverless-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º –Ω–∞ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π (10-60 —Å–µ–∫—É–Ω–¥)
   - –ë–æ—Ç —Å long-polling —Ç—Ä–µ–±—É–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —Ä–∞–±–æ—Ç–∞—é—â–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞, —á—Ç–æ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –Ω–∞ Vercel
   - –î–ª—è Vercel –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è webhook-–ø–æ–¥—Ö–æ–¥

## –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
1. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω JavaScript webhook (api/webhook.js):
   - –†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–∞ –≤–µ—Ä—Å–∏—è webhook –Ω–∞ JavaScript –¥–ª—è Vercel
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–ª–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –∫–æ–º–∞–Ω–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞ —Å inline-–∫–ª–∞–≤–∏–∞—Ç—É—Ä–æ–π

2. ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è API –Ω–∞ Vercel:
   - –°–æ–∑–¥–∞–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ñ–∞–π–ª vercel.json
   - –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª–∞ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–ª—è API
   - –î–æ–±–∞–≤–ª–µ–Ω—ã CORS-–∑–∞–≥–æ–ª–æ–≤–∫–∏ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤

3. ‚úÖ –†–µ—à–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–µ–π –∑–∞–ø—Ä–æ—Å–æ–≤:
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∑–∞–≥–æ–ª–æ–≤–∫–∞ X-Telegram-Bot-Api-Secret-Token
   - –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–æ–∫–µ–Ω–∞
   - –£–ª—É—á—à–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤

## –ë–ª–∏–∂–∞–π—à–∏–µ –∑–∞–¥–∞—á–∏
1. üîÑ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ webhook –Ω–∞ Vercel
2. üîÑ –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –±–æ—Ç–∞:
   - –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã—Ö –∫–æ–º–∞–Ω–¥
   - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –±–∞–∑–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å –æ–±—ä–µ–∫—Ç–∞–º–∏ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏
3. üîÑ –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
4. üîÑ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å OpenAI API –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —è–∑—ã–∫–∞

## –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
- 31.03.2025: –í—ã—è–≤–ª–µ–Ω—ã –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è Vercel –¥–ª—è long-polling –±–æ—Ç–æ–≤
- 31.03.2025: –£–ª—É—á—à–µ–Ω `test_bot.py` —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- 31.03.2025: –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Ä–∞–±–æ—á–∏–π Telegram –±–æ—Ç —Å long polling
- 31.03.2025: –ù–∞—Å—Ç—Ä–æ–µ–Ω webhook –Ω–∞ Vercel (—Ç—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏)
- 30.03.2025: –°–æ–∑–¥–∞–Ω –±–∞–∑–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

