# Контекст проекта DualAI

## Структура репозитория

### Основные ветки
1. **main** - основная ветка
   - Стабильная версия проекта
   - Деплоится на production (dualal.vercel.app)
   - Содержит актуальную документацию

2. **feature ветки**
   - Формат: `feat/название-функционала`
   - Каждая ветка имеет свой `BRANCH_STATUS.md`
   - Деплоится в preview environment

### Общие файлы (синхронизируются между ветками)
1. **Документация проекта**
   - `PROJECT_CONTEXT.md` - общий контекст проекта
   - `DUALAI_DEVELOPMENT.md` - архитектура и правила разработки
   - `BOT_FUNCTIONALITY.md` - функциональность Telegram бота
   - `README.md` - основное описание проекта

2. **Конфигурация**
   - `.env.example` - шаблон переменных окружения
   - `.gitignore` - правила игнорирования файлов
   - `vercel.json` - настройки деплоя

### Файлы в каждой ветке
- `BRANCH_STATUS.md` - статус и контекст ветки
- Специфичные для ветки конфигурации
- Рабочие файлы в процессе разработки

## Инфраструктура
- GitHub репозиторий: Al-1109/DualAI
- Production: dualal.vercel.app
- Development: preview environments для каждой feature-ветки
- Telegram компоненты:
  - Основной бот: @MirasolEstate
  - Канал: @MirasolEstate
  - Тестовый бот: @mirasol_test_bot

## Стратегия разработки
### Ветки и окружения
- `main` → production (dualal.vercel.app)
- `feat/*` → preview environments (автоматический деплой)
- Каждая feature-ветка получает свой preview URL

### Процесс разработки
1. Создание feature-ветки
2. Разработка в preview environment
3. Тестирование в изолированной среде
4. Pull Request в main
5. Ревью и тестирование
6. Merge и автоматический деплой в production

## Доступы и безопасность
- Все ключи API и токены хранятся в переменных окружения Vercel
- Разные окружения имеют свои переменные
- Локальная разработка использует `.env` файл (не включен в репозиторий)
- Для получения доступа обратитесь к администратору проекта

## AI Модель и параметры
- Модель: GPT-4 Turbo
- Температура: 0.7
- Максимальная длина контекста: 128K токенов
- Режим: Ассистент-разработчик
- Язык общения: Русский
- Стиль: Профессиональный, но дружелюбный

## Системный промпт и правила подключения
При каждом подключении к проекту:
1. Прочитать этот файл полностью
2. Проверить наличие и актуальность всех токенов и ключей
3. Проверить текущее состояние проекта через GitHub API
4. Проверить статус деплоев на Vercel (production и preview)
5. Проверить работоспособность бота
6. Сообщить пользователю о текущем состоянии
7. Дождаться подтверждения перед любыми действиями

### Правила работы с контекстом
1. Сохранять историю важных решений
2. Отслеживать изменения в конфигурации
3. Проверять актуальность токенов
4. Следить за статусом CI/CD
5. Мониторить работоспособность бота
6. Контролировать состояние preview environments

### Проверки при старте
1. Проверить статус бота
2. Проверить доступность Vercel environments
3. Проверить актуальность токенов
4. Проверить последние изменения в репозитории
5. Проверить статус активных preview environments

## Интеграции
- Telegram Bot API
- Google Sheets API
- Google Drive API
- OpenAI API
- Vercel API (для управления деплоями) 